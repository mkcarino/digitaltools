var campaign = {
	'internal not-paid': {
		"display": ["ilsole24ore",
			"24plus",
			"mercati",
			"ecommerce",
			"quotidiano",
			"archivio",
			"lab24",
			"stream24",
			"radio24",
			"24oreprofessionale",
			"ntplusfisco",
			"ntplusdiritto",
			"ntpluscondominio",
			"ntpluslavoro",
			"modulo24iva",
			"ntplusentilocaliedilizia",
			"valore24",
			"modulo24",
			"top24fisco",
			"smart24fisco",
			"smart24pa",
			"smart24tecnici",
			"smart24hse",
			"smart24apprendistato",
			"smart24lavoro",
			"smart24lex",
			"smart24diritto",
			"smart24ufficiotecnico",
			"smart24ediliziaurbanistica",
			"smart24pulizialocale",
			"smart24contabilitaebilancioentilocali",
			"smart24lavoropublico",
			"smart24attributilocali",
			"smart24condominio",
			"smart24superbonus",
			"smart24appalti",
			"book24ore",
			"top24fisco",
			"top24lavoro",
			"top24diritto",
			"modulo24compliance",
			"modulo24wealthplanning",
			"modulo24bilancio",
			"modulo24famiglia",
			"modulo24contenziosolavoro",
			"modulo24societa",
			"modulo24responsabilitarisarcimento",
			"modulo24operazionistraordinari",
			"modulo24revisionelegalecrisidimpresa",
			"modulo24terzosettore",
			"modulo24contenziosotributario",
			"modulo24contratti",
			"modulo24tuir",
			"modulo24iva",
			"modulo24accertamentoriscossione",
			"agribusiness24",
			"mydesk",
			"24suiteaziende",
			"valore24",
			"partner24ore",
			"qualita24ore",
		],
		"cta": ["-"],
	},
	'internal paid': {
		"display": ["ilsole24ore",
			"24plus",
			"mercati",
			"ecommerce",
			"quotidiano",
			"archivio",
			"lab24",
			"stream24",
			"radio24",
			"24oreprofessionale",
			"ntplusfisco",
			"ntplusdiritto",
			"ntpluscondominio",
			"ntpluslavoro",
			"modulo24iva",
			"ntplusentilocaliedilizia",
			"valore24",
			"modulo24",
			"top24fisco",
			"smart24fisco",
			"smart24pa",
			"smart24tecnici",
			"smart24hse",
			"smart24apprendistato",
			"smart24lavoro",
			"smart24lex",
			"smart24diritto",
			"smart24ufficiotecnico",
			"smart24ediliziaurbanistica",
			"smart24pulizialocale",
			"smart24contabilitaebilancioentilocali",
			"smart24lavoropublico",
			"smart24attributilocali",
			"smart24condominio",
			"smart24superbonus",
			"smart24appalti",
			"book24ore",
			"top24fisco",
			"top24lavoro",
			"top24diritto",
			"modulo24compliance",
			"modulo24wealthplanning",
			"modulo24bilancio",
			"modulo24famiglia",
			"modulo24contenziosolavoro",
			"modulo24societa",
			"modulo24responsabilitarisarcimento",
			"modulo24operazionistraordinari",
			"modulo24revisionelegalecrisidimpresa",
			"modulo24terzosettore",
			"modulo24contenziosotributario",
			"modulo24contratti",
			"modulo24tuir",
			"modulo24iva",
			"modulo24accertamentoriscossione",
			"agribusiness24",
			"mydesk",
			"24suiteaziende",
			"valore24",
			"partner24ore",
			"qualita24ore",
		],
		"footer_mail_aziendale": ['-']
	},
	'external not-paid': {
		"display": ["ilsole24ore",
			"24plus",
			"mercati",
			"ecommerce",
			"quotidiano",
			"archivio",
			"lab24",
			"stream24",
			"radio24",
			"24oreprofessionale",
			"ntplusfisco",
			"ntplusdiritto",
			"ntpluscondominio",
			"ntpluslavoro",
			"modulo24iva",
			"ntplusentilocaliedilizia",
			"valore24",
			"modulo24",
			"top24fisco",
			"smart24fisco",
			"smart24pa",
			"smart24tecnici",
			"smart24hse",
			"smart24apprendistato",
			"smart24lavoro",
			"smart24lex",
			"smart24diritto",
			"smart24ufficiotecnico",
			"smart24ediliziaurbanistica",
			"smart24pulizialocale",
			"smart24contabilitaebilancioentilocali",
			"smart24lavoropublico",
			"smart24attributilocali",
			"smart24condominio",
			"smart24superbonus",
			"smart24appalti",
			"book24ore",
			"top24fisco",
			"top24lavoro",
			"top24diritto",
			"modulo24compliance",
			"modulo24wealthplanning",
			"modulo24bilancio",
			"modulo24famiglia",
			"modulo24contenziosolavoro",
			"modulo24societa",
			"modulo24responsabilitarisarcimento",
			"modulo24operazionistraordinari",
			"modulo24revisionelegalecrisidimpresa",
			"modulo24terzosettore",
			"modulo24contenziosotributario",
			"modulo24contratti",
			"modulo24tuir",
			"modulo24iva",
			"modulo24accertamentoriscossione",
			"agribusiness24",
			"mydesk",
			"24suiteaziende",
			"valore24",
			"partner24ore",
			"qualita24ore"],
		"stampa": ["adv-brochure"],
		"cta": ["-"],
		"dem": ["-"],
		"newsletter": ["acn", "ilsole24ore",
		"24plus",
		"mercati",
		"ecommerce",
		"quotidiano",
		"archivio",
		"lab24",
		"stream24",
		"radio24",
		"24oreprofessionale",
		"ntplusfisco",
		"ntplusdiritto",
		"ntpluscondominio",
		"ntpluslavoro",
		"modulo24iva",
		"ntplusentilocaliedilizia",
		"valore24",
		"modulo24",
		"top24fisco",
		"smart24fisco",
		"smart24pa",
		"smart24tecnici",
		"smart24hse",
		"smart24apprendistato",
		"smart24lavoro",
		"smart24lex",
		"smart24diritto",
		"smart24ufficiotecnico",
		"smart24ediliziaurbanistica",
		"smart24pulizialocale",
		"smart24contabilitaebilancioentilocali",
		"smart24lavoropublico",
		"smart24attributilocali",
		"smart24condominio",
		"smart24superbonus",
		"smart24appalti",
		"book24ore",
		"top24fisco",
		"top24lavoro",
		"top24diritto",
		"modulo24compliance",
		"modulo24wealthplanning",
		"modulo24bilancio",
		"modulo24famiglia",
		"modulo24contenziosolavoro",
		"modulo24societa",
		"modulo24responsabilitarisarcimento",
		"modulo24operazionistraordinari",
		"modulo24revisionelegalecrisidimpresa",
		"modulo24terzosettore",
		"modulo24contenziosotributario",
		"modulo24contratti",
		"modulo24tuir",
		"modulo24iva",
		"modulo24accertamentoriscossione",
		"agribusiness24",
		"mydesk",
		"24suiteaziende",
		"valore24",
		"partner24ore",
		"qualita24ore"],
		"direct": ["-"],
		"footer_mail_aziendale": ['-']

	},
	'external paid': {
		"display": ["ilsole24ore",
			"24plus",
			"mercati",
			"ecommerce",
			"quotidiano",
			"archivio",
			"lab24",
			"stream24",
			"radio24",
			"24oreprofessionale",
			"ntplusfisco",
			"ntplusdiritto",
			"ntpluscondominio",
			"ntpluslavoro",
			"modulo24iva",
			"ntplusentilocaliedilizia",
			"valore24",
			"modulo24",
			"top24fisco",
			"smart24fisco",
			"smart24pa",
			"smart24tecnici",
			"smart24hse",
			"smart24apprendistato",
			"smart24lavoro",
			"smart24lex",
			"smart24diritto",
			"smart24ufficiotecnico",
			"smart24ediliziaurbanistica",
			"smart24pulizialocale",
			"smart24contabilitaebilancioentilocali",
			"smart24lavoropublico",
			"smart24attributilocali",
			"smart24condominio",
			"smart24superbonus",
			"smart24appalti",
			"book24ore",
			"top24fisco",
			"top24lavoro",
			"top24diritto",
			"modulo24compliance",
			"modulo24wealthplanning",
			"modulo24bilancio",
			"modulo24famiglia",
			"modulo24contenziosolavoro",
			"modulo24societa",
			"modulo24responsabilitarisarcimento",
			"modulo24operazionistraordinari",
			"modulo24revisionelegalecrisidimpresa",
			"modulo24terzosettore",
			"modulo24contenziosotributario",
			"modulo24contratti",
			"modulo24tuir",
			"modulo24iva",
			"modulo24accertamentoriscossione",
			"agribusiness24",
			"mydesk",
			"24suiteaziende",
			"valore24",
			"partner24ore",
			"qualita24ore",],
		"stampa": ["adv-brochure"],
		"cta": ["-"],
		"search": ["google", "bing", "yahoo"],
		"social": ["facebook", "twitter", "linkedin", "tiktok"],
		"dem": ["dbm", "du"],
		"newsletter": ["-"],
		"direct": ["-"],
		"footer_mail_aziendale": ['-']
	}
};

var campaignValue2_3 = {
	"not_paid": ['articoli_free', 'articoli_pay', 'display', 'stampa', 'cta', 'search', 'social', 'dem', 'newsletter', 'direct', 'footer_mail_aziendale'],
	"paid": ['articoli_free', 'articoli_pay', 'display', 'stampa', 'cta', 'search', 'social', 'dem', 'newsletter', 'direct', 'footer_mail_aziendale']
}
var campaignValue3_4 = {
	"display": ["-"],
	"stampa": ["qrcode", "link",],
	"cta": ["-"],
	"search": ["google", "bing", "yahoo"],
	"social": ["facebook", "twitter", "linkedin", "tiktok"],
	"dem": ["-"],
	"newsletter": ["-"],
	"direct": ["-"],
	"cta": ["-"],
	"direct": ['-'],
	"footer_mail_aziendale": ['-']
}
var suggestL4 = ["Suggerimento", "Suggerimento1", "Suggerimento2", "Suggerimento3"];
var suggestL5 = ["Wewe", "Suggerimento1", "Suggerimento2", "Suggerimento3"];
let baseUrl = document.getElementById("base_url");
let c1 = document.getElementById("campaign_1");
let c2 = document.getElementById("campaign_2");
let c3 = document.getElementById("campaign_3");
let c4 = document.getElementById("campaign_4");
let c5 = document.getElementById("campaign_5");
let c6 = document.getElementById("campaign_6");
let c7 = document.getElementById("campaign_7");
let c8 = document.getElementById("campaign_8");
let c9 = document.getElementById("campaign_9");

let s4 = document.getElementById("suggest4");
let s5 = document.getElementById("suggest5");

let t4 = document.getElementById("titleL4");
let t5 = document.getElementById("titleL5");
let t6 = document.getElementById("titleL6");
let t7 = document.getElementById("titleL7");
let t8 = document.getElementById("titleL8");
let t9 = document.getElementById("titleL9");
let gif = document.getElementById("loading");
let result = document.getElementById("result");
let mediacode = document.getElementById("mediacode");
for (l1 in campaign) {
	//c1.innerHTML = c1.innerHTML + '<option>' + key + '</option>';
	c1.options[c1.options.length] = new Option(l1, l1);
}
c1.onchange = (e) => {
	c2.length = 1; // remove all options bar first
	c3.length = 1;
	c4.length = 1;

	t4.innerHTML = "Livello 4"
	t5.innerHTML = "Livello 5"
	t6.innerHTML = "Livello 6"
	t7.innerHTML = "Livello 7"
	t8.innerHTML = "Livello 8"
	t9.innerHTML = "Livello 9"

	for (let l2 in campaign[e.target.value]) {
		c2.options[c2.options.length] = new Option(
			l2,
			l2
		);
		document.querySelector('.updateselect').selectpicker('refresh');
	}


};
/* c2.onchange = (e) => {
	c3.length = 1;
	c4.length = 1;

	for (let l3 in campaign[c1.value][e.target.value]) {

		c3.options[c3.options.length] = new Option(
			l3,
			l3
		);
		$('.updateselect').selectpicker('refresh');
	}

}; */
c2.onchange = (e) => {
	c3.length = 1;
	let liv3 = campaign[c1.value][e.target.value]
	console.log([e.target.value])
	if(e.target.value == "social" || e.target.value == "search") {
		t4.innerHTML = "Formato Ad"
		t5.innerHTML = "Nome Prodotto"
		t9.innerHTML = "Agency"
	}
	if(e.target.value == "search") {
		t4.innerHTML = "Tipo Annuncio"
		t5.innerHTML = "Nome Prodotto"
		t6.innerHTML = "Audience Type"
		t7.innerHTML = "Nome Campagna"
		t8.innerHTML = "Unita business"
		t9.innerHTML = "Agency"
	}
	if(e.target.value == "display") {
		t4.innerHTML = "Formato Banner"
		t5.innerHTML = "Nome Prodotto"
		t6.innerHTML = "Audience Type"
		t7.innerHTML = "Nome Campagna"
		t8.innerHTML = "Unita business"
		t9.innerHTML = "Agenzia"//professionale
	}
	if(e.target.value == "dem") {
		t4.innerHTML = "Campo Vuoto"
		t5.innerHTML = "Nome Prodotto"
		t6.innerHTML = "Audience Type"
		t7.innerHTML = "Nome Campagna"
		t8.innerHTML = "Unita business"
		t9.innerHTML = "Agenzia"//professionale
	}
	if(e.target.value == "cta") {
		t4.innerHTML = "Posizione"
		t5.innerHTML = "Nome Prodotto"
		t6.innerHTML = "Audience Type"
		t7.innerHTML = "Nome Campagna"
		t8.innerHTML = "Unita business"
		t9.innerHTML = "Agenzia"//professionale
	}
	for (let i = 0; i < liv3.length; i++) {
		c3.options[c3.options.length] = new Option(
			liv3[i],
			liv3[i]
		);
	}
	document.querySelector('.updateselect').selectpicker('refresh');
	for (i = 0; i < suggestL4.length; i++) {
		s4.innerHTML = s4.innerHTML + '<option>' + suggestL4[i] + '</option>';
	}
};

for (i = 0; i < suggestL5.length; i++) {
	s5.innerHTML = s5.innerHTML + '<option>' + suggestL5[i] + '</option>';
}
/*
c1.addEventListener('change', function populate_child(e) {
	c2.innerHTML = '';
	c3.innerHTML = '';
	c4.innerHTML = '';
	if (gif.style.display === "none") {
		gif.style.display = "block";
	}
	if (result.style.display === "flex") {
		result.style.display = "none";
	}
	itm = e.target.value;
	if (itm in campaignValue1_2) {
		c2.innerHTML = c2.innerHTML + '<option value="" selected disabled>Livello2</option>'
		for (i = 0; i < campaignValue1_2[itm].length; i++) {
			c2.innerHTML = c2.innerHTML + '<option>' + campaignValue1_2[itm][i] + '</option>';
		}
	}
});
c2.addEventListener('change', function populate_child(e) {
	c3.innerHTML = '';
	c4.innerHTML = '';
	if (gif.style.display === "none") {
		gif.style.display = "block";
	}
	if (result.style.display === "flex") {
		result.style.display = "none";
	}
	itm = e.target.value;
	if (itm in campaignValue2_3) {
		c3.innerHTML = c3.innerHTML + '<option value="" selected disabled>Livello3</option>'
		for (i = 0; i < campaignValue2_3[itm].length; i++) {
			c3.innerHTML = c3.innerHTML + '<option>' + campaignValue2_3[itm][i] + '</option>';
		}
	}

});
c3.addEventListener('change', function populate_child(e) {
	c4.innerHTML = '';
	itm = e.target.value;
	if (gif.style.display === "none") {
		gif.style.display = "block";
	}
	if (result.style.display === "flex") {
		result.style.display = "none";
	}
	if (itm in campaignValue3_4) {
		c4.innerHTML = c4.innerHTML + '<option value="" selected disabled>Livello4</option>'
		for (i = 0; i < campaignValue3_4[itm].length; i++) {
			c4.innerHTML = c4.innerHTML + '<option>' + campaignValue3_4[itm][i] + '</option>';
		}
	}

});
*/
function genera() {
	let arrayValori = [];

	arrayValori.push(c1.options[c1.selectedIndex].value);
	arrayValori.push(c2.options[c2.selectedIndex].value);
	arrayValori.push(c3.options[c3.selectedIndex].value);
	c4.value != "" ? arrayValori.push(c4.value) : arrayValori.push("");
	c5.value != "" ? arrayValori.push(c5.value) : arrayValori.push("");
	c6.value != "" ? arrayValori.push(c6.value) : arrayValori.push("");
	c5.value != "" ? arrayValori.push(c7.value) : arrayValori.push("");
	c8.value != "" ? arrayValori.push(c8.value) : arrayValori.push("");
	c9.value != "" ? arrayValori.push(c9.value) : arrayValori.push("");

	let stringa = "wt_mc=" + arrayValori.join('.')
	if (arrayValori[0] == 'internal not-paid') {
		arrayValori.shift();
		stringa = "wt_int=not-paid." + arrayValori.join('.')
	}
	if (arrayValori[0] == 'internal paid') {
		arrayValori.shift();
		stringa = "wt_int=paid." + arrayValori.join('.')
	}
	if (arrayValori[0] == 'external paid') {
		arrayValori.shift();
		stringa = "wt_mc=ext-paid." + arrayValori.join('.')
	}
	if (arrayValori[0] == 'external not-paid') {
		arrayValori.shift();
		stringa = "wt_mc=ext-not-paid." + arrayValori.join('.')
	}
	if (baseUrl.value != "") {
		let url = baseUrl.value
		if (url.includes('?')) {
			stringa = url + "&" + stringa;
		} else {
			stringa = url + "?" + stringa;
		}
	}
	if (gif.style.display === "none") {
		gif.style.display = "none";
	} else {
		gif.style.display = "none";
	}
	if (result.style.display === "none") {
		result.style.display = "flex";
		mediacode.innerHTML = stringa
	}
	else {
		result.style.display = "flex";
		mediacode.innerHTML = stringa
	}

	console.log(baseUrl.value)
}


function copyText() {

	let text = mediacode.innerHTML;
	navigator.clipboard.writeText(text);
	console.log('Content copied to clipboard');
	showSnackBar()
}
function showSnackBar() {
	var sb = document.getElementById("snackbar");

	//this is where the class name will be added & removed to activate the css
	sb.className = "show";

	setTimeout(() => { sb.className = sb.className.replace("show", ""); }, 3000);
}

